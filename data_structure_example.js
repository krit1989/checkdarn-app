/**
 * CheckDarn App - โครงสร้างข้อมูลใน Firestore
 * 
 * หลังจากที่ผู้ใช้โพสต์รายงานเหตุการณ์แล้ว
 * ข้อมูลจะถูกเก็บใน Firestore collection 'reports' 
 * พร้อมแสดงในหน้า List และ Detail
 */

// ===== ตัวอย่างโครงสร้างข้อมูลใน Firestore =====

{
  // Document ID: รหัสเอกสารที่ Firestore สร้างอัตโนมัติ (เช่น "abc123def456")
  "reportId": "abc123def456", // ใช้ในการอ้างอิงเอกสาร
  
  // === ข้อมูลพื้นฐาน ===
  "title": "พบสุนัขจรจัดตัวเล็ก", // หัวข้อ (จาก description ถ้าไม่มี title แยก)
  "description": "พบสุนัขสีดำตัวเล็กหลงทางบริเวณสวนสาธารณะ ดูอ่อนแอและหิวน้ำ",
  "category": "animalLost", // ประเภทเหตุการณ์
  "type": "สัตว์เลี้ยงหาย", // ชื่อประเภทที่แสดงผล
  
  // === ข้อมูลเวลาและสถานะ ===
  "timestamp": Timestamp, // เวลาที่โพสต์ (server timestamp)
  "status": "active", // สถานะ: active, inactive, resolved
  "expireAt": Timestamp, // หมดอายุอัตโนมัติใน 7 วัน (TTL)
  "userId": "anonymous", // รหัสผู้ใช้ (ยังไม่มีระบบล็อกอิน)
  
  // === ข้อมูลตำแหน่ง ===
  "lat": 13.7563, // ละติจูด
  "lng": 100.5018, // ลองจิจูด  
  "location": "บริเวณสวนสาธารณะ ซอยสุขุมวิท 39", // ที่อยู่แบบข้อความ
  "district": "วัฒนา", // เขต/อำเภอ
  "province": "กรุงเทพมหานคร", // จังหวัด
  
  // === ข้อมูลสื่อ ===
  "imageUrl": "https://storage.googleapis.com/...", // URL รูปภาพ (ถ้ามี)
  "hasImage": true, // มีรูปภาพหรือไม่
  
  // === ข้อมูลเพิ่มเติม (สำหรับอนาคต) ===
  "contactInfo": { // ข้อมูลติดต่อ (optional)
    "phone": "08x-xxx-xxxx",
    "line": "@username"
  },
  "tags": ["สุนัข", "ตัวเล็ก", "สีดำ"], // แท็กสำหรับค้นหา
  "viewCount": 15, // จำนวนผู้ดู
  "helpCount": 3, // จำนวนคนที่ช่วยเหลือ
  
  // === ข้อมูลระบบ ===
  "createdAt": Timestamp,
  "updatedAt": Timestamp, // เวลาอัปเดตล่าสุด
  "deletedAt": null, // เวลาที่ลบ (ถ้ามี)
  "version": 1 // เวอร์ชันของโครงสร้างข้อมูล
}

// ===== ประเภทเหตุการณ์ที่รองรับ =====

const CATEGORIES = {
  "animalLost": {
    "name": "สัตว์เลี้ยงหาย",
    "color": "#FF6B6B", // สีแดง
    "icon": "pets",
    "hasComments": true // อนุญาตให้แสดงความคิดเห็น
  },
  "accident": {
    "name": "อุบัติเหตุ", 
    "color": "#FF8C00", // สีส้ม
    "icon": "warning",
    "hasComments": false
  },
  "naturalDisaster": {
    "name": "ภัยธรรมชาติ",
    "color": "#8B4513", // สีน้ำตาล
    "icon": "flash_on",
    "hasComments": false
  },
  "infrastructure": {
    "name": "โครงสร้างพื้นฐาน",
    "color": "#4169E1", // สีน้ำเงิน
    "icon": "build",
    "hasComments": false
  },
  "other": {
    "name": "อื่นๆ",
    "color": "#808080", // สีเทา
    "icon": "help_outline",
    "hasComments": false
  }
};

// ===== การแสดงผลใน ListScreen =====

/*
แต่ละ Card ในรายการจะแสดง:
┌─────────────────────────────────────────────┐
│ [ป้ายหมวดหมู่สี]     [รูปภาพ 80x80]        │
│ หัวข้อเหตุการณ์ (2 บรรทัด)                  │
│ รายละเอียด (2 บรรทัด)                      │
│ 📍 ตำแหน่ง                                 │
│ 🕐 เวลา              วันที่                │
│ ─────────────────────────────────────────── │
│ [💬 แสดงความคิดเห็น] (เฉพาะสัตว์หาย)        │
└─────────────────────────────────────────────┘
*/

// ===== การแสดงผลใน DetailScreen =====

/*
หน้ารายละเอียดจะแสดง:
┌─────────────────────────────────────────────┐
│ [AppBar สีตามหมวดหมู่] [ปุ่มแชร์]            │
├─────────────────────────────────────────────┤
│ รูปภาพขนาดใหญ่ (ถ้ามี)                      │
├─────────────────────────────────────────────┤
│ 📋 รายละเอียดเหตุการณ์                      │
│ รายละเอียดเต็มที่ผู้ใช้ป้อน                 │
├─────────────────────────────────────────────┤
│ 📍 ตำแหน่งที่เกิดเหตุ                       │
│ ที่อยู่เต็ม + เขต/จังหวัด                   │
│ [ปุ่มเปิดแผนที่] [ปุ่มนำทาง]                │
├─────────────────────────────────────────────┤
│ ⏰ เวลาที่เกิดเหตุ                          │
│ วันที่และเวลาที่แจ้ง                        │
├─────────────────────────────────────────────┤
│ 🏷️ หมวดหมู่                                │
│ ป้ายสีแสดงประเภทเหตุการณ์                   │
└─────────────────────────────────────────────┘
*/

// ===== ข้อจำกัดและกฎเกณฑ์ =====

const LIMITS = {
  "maxPostsPerDay": 10, // จำกัด 10 โพสต์ต่อคนต่อวัน
  "dataRetentionDays": 7, // ข้อมูลหมดอายุใน 7 วัน
  "maxImageSize": "5MB", // รูปภาพสูงสุด 5MB
  "maxDescriptionLength": 500, // รายละเอียดสูงสุด 500 ตัวอักษร
  "requiredFields": ["category", "description", "location"] // ฟิลด์ที่จำเป็น
};

// ===== ฟีเจอร์พิเศษ =====

/*
1. 🐕 สัตว์เลี้ยงหาย = มีระบบความคิดเห็น (CommentBottomSheet)
2. 📱 ทุกโพสต์ = มีปุ่มแชร์ข้อมูล
3. 🗺️ ทุกโพสต์ = แสดงตำแหน่งบนแผนที่
4. ⏰ ระบบ TTL = ลบข้อมูลอัตโนมัติหลัง 7 วัน
5. 🚫 Rate Limiting = จำกัดการโพสต์ไม่เกิน 10 ครั้ง/วัน
6. 🎨 Color Coding = สีแตกต่างตามประเภทเหตุการณ์
*/

// ===== ตัวอย่างข้อมูลจริงที่อาจเจอ =====

// 1. สัตว์เลี้ยงหาย
{
  "category": "animalLost",
  "description": "พบแมวสีขาวปนเทา ใส่ปลอกคอสีแดง บริเวณหน้าร้านสะดวกซื้อ ดูเหมือนหลงทาง",
  "location": "หน้า 7-Eleven สาขาสุขุมวิท 71",
  "district": "วัฒนา",
  "province": "กรุงเทพมหานคร",
  "hasComments": true,
  "tags": ["แมว", "สีขาว", "ปลอกคอแดง"]
}

// 2. อุบัติเหตุ
{
  "category": "accident", 
  "description": "รถชนกันเล็กน้อย บริเวณสี่แยกรัชดา การจราจรติดขัดหนัก",
  "location": "สี่แยกรัชดาภิเษก",
  "district": "ห้วยขวาง",
  "province": "กรุงเทพมหานคร",
  "hasComments": false,
  "severity": "moderate"
}

// 3. โครงสร้างพื้นฐาน  
{
  "category": "infrastructure",
  "description": "ไฟฟ้าดับทั้งซอย เสาไฟล้มขวางถนน อาจเป็นอันตราย",
  "location": "ซอยอ่อนนุช 17",
  "district": "สวนหลวง", 
  "province": "กรุงเทพมหานคร",
  "hasComments": false,
  "urgency": "high"
}
