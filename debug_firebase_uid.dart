#!/usr/bin/env dart
// Debug Firebase UID - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏°‡∏µ UID ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

import 'dart:io';

void main() async {
  print('üîç === Firebase UID Debug Guide ===\n');

  print('üìß ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö UID ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏µ‡πÄ‡∏°‡∏•:');
  print('');

  print('‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏π UID ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ:');
  print('1. ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏£‡∏Å');
  print('2. ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Report ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î Flutter console');
  print('3. ‡∏°‡∏≠‡∏á‡∏´‡∏≤ log message: "üë§ User ID: [UID]"');
  print('4. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å UID ‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ');
  print('5. ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå');
  print('6. ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á');
  print('7. ‡πÄ‡∏õ‡∏¥‡∏î console ‡∏î‡∏π UID ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
  print('8. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö UID ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß');
  print('');

  print('üîç === Log Messages ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô ===');
  print('');
  print('üìä ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÇ‡∏û‡∏™‡∏ï‡πå:');
  print('   üë§ User ID: [UID]');
  print('   üë§ User email: [EMAIL]');
  print('   üë§ User display name: [NAME]');
  print('   üîç Checking rate limit for user: [UID]');
  print('   üìÖ Date range: [START] to [END]');
  print('   üìä Found X posts in the last 1 day(s) (limit: 5)');
  print('');

  print('‚úÖ Expected Results:');
  print('   - UID ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô = ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ‚Üí ‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏î‡πâ');
  print('   - UID ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô = ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç');
  print('');

  print('üö® === Possible Issues ===');
  print('');
  print('‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:');
  print('1. Google Sign-In cache ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
  print('2. Firebase Auth ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ logout ‡∏™‡∏∞‡∏≠‡∏≤‡∏î');
  print('3. App ‡πÉ‡∏ä‡πâ Anonymous Auth ‡πÅ‡∏ó‡∏ô Google');
  print('4. Keychain/SharedPreferences cache ‡πÄ‡∏Å‡πà‡∏≤');
  print('5. Firebase project configuration ‡∏ú‡∏¥‡∏î');
  print('');

  print('üîß === Solutions ===');
  print('');
  print('üîÑ ‡∏•‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:');
  print('1. Force logout ‡πÅ‡∏•‡∏∞ clear cache:');
  print('   - ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ');
  print('   - ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏à‡∏≤‡∏Å Google account ‡∏ö‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå');
  print('   - ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÅ‡∏≠‡∏õ');
  print('   - ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà');
  print('');

  print('2. ‡∏•‡∏ö‡πÅ‡∏≠‡∏õ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà:');
  print('   - Uninstall app');
  print('   - Install APK ‡πÉ‡∏´‡∏°‡πà');
  print('   - ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏≠‡∏∑‡πà‡∏ô');
  print('');

  print('3. ‡πÄ‡∏ä‡πá‡∏Ñ‡πÉ‡∏ô Firebase Console:');
  print('   - ‡πÄ‡∏õ‡∏¥‡∏î https://console.firebase.google.com/');
  print('   - ‡πÑ‡∏õ Authentication > Users');
  print('   - ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô‡πÅ‡∏•‡∏∞ UID ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á');
  print('');

  print('üì± === Testing Steps ===');
  print('');
  print('üß™ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö:');
  print('1. ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏£‡∏Å');
  print('2. ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÇ‡∏û‡∏™‡∏ï‡πå ‡πÅ‡∏•‡∏∞‡∏î‡∏π console log');
  print('3. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å UID ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ');
  print('4. ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏™‡∏∞‡∏≠‡∏≤‡∏î');
  print('5. ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á');
  print('6. ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
  print('7. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö UID ‡πÅ‡∏•‡∏∞ rate limit results');
  print('');

  print('üìã === Expected vs Actual ===');
  print('');
  print('‚úÖ ‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô:');
  print('   Email 1: UID = abc123... (5/5 posts used)');
  print('   Email 2: UID = xyz789... (0/5 posts used) ‚úì');
  print('');

  print('‚ùå ‡∏ñ‡πâ‡∏≤‡∏ú‡∏•‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô:');
  print('   Email 1: UID = abc123... (5/5 posts used)');
  print('   Email 2: UID = abc123... (5/5 posts used) ‚ùå');
  print('   ‚Üí ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ authentication caching');
  print('');

  print('üîç === Next Steps ===');
  print('');
  print('‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß:');
  print('1. ‡∏™‡πà‡∏á screenshot ‡∏Ç‡∏≠‡∏á console logs');
  print('2. ‡∏™‡πà‡∏á UID ‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•');
  print('3. ‡∏™‡πà‡∏á screenshot Firebase Console > Users');
  print('4. ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£');
  print('');

  print('‚úÖ === Debug Complete ===');
  print('‡∏Å‡∏î Ctrl+C ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å ‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Flutter app');
}
